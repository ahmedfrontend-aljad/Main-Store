import{a as v}from"./chunk-72SX3PT6.js";import{b as q,d as J,f as K,k as Q}from"./chunk-YJOGFJHE.js";import"./chunk-NWNFJGB3.js";import{D as Y,E as H,x as G,y as $}from"./chunk-HRNNJGGB.js";import{$b as b,Db as h,Eb as _,Hb as U,Nb as c,Ob as O,Pb as p,Rb as V,Sa as r,Sb as R,Tb as W,Vb as w,Wb as P,_ as x,_b as f,ab as C,fa as S,fb as N,ga as I,ha as M,ia as k,lb as m,oa as E,ob as F,pb as j,qb as D,rb as z,sb as g,ta as T,tb as u,ub as i,vb as a,wb as l,xb as L,yb as A,zb as B}from"./chunk-5H2WG54T.js";function ie(n,e){if(n&1){let t=B();i(0,"li")(1,"button",8),h("click",function(){let d=S(t).$implicit,s=_();return I(s.goToPage(d))}),c(2),a()()}if(n&2){let t=e.$implicit,o=_();r(),F("flex items-center justify-center px-5 h-8 leading-tight border transition-all duration-200 "+(t===o.pageNumber?"z-10 text-white bg-green-500 border-green-500 shadow-md scale-110":"text-gray-700 bg-white/70 border-gray-300 hover:bg-green-50 hover:text-green-700")),r(),p(" ",t," ")}}var y=class n{_AllProductsService=x(v);totalPages=[];pageNumber=1;pageSize=50;pageChanged=new E;ngOnInit(){this._AllProductsService.getPagedItem(this.pageNumber,this.pageSize).subscribe({next:e=>{let t=Math.ceil(e.Obj.TotalCount/this.pageSize);this.totalPages=Array.from({length:t},(o,d)=>d+1),console.log("total Pages",this.totalPages)},error:e=>{console.log(e)}})}goToPage(e){e<1||e>this.totalPages.length||(this.pageNumber=e,this.pageChanged.emit(this.pageNumber))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=C({type:n,selectors:[["app-pagination"]],outputs:{pageChanged:"pageChanged"},decls:16,vars:2,consts:[["aria-label","Page navigation example",1,"backdrop-blur-sm","bg-white/40","rounded-xl","shadow-md","p-2"],[1,"flex","items-center","-space-x-px","h-8","text-lg","font-bold"],[1,"flex","items-center","justify-center","px-5","h-8","ms-0","leading-tight","text-gray-600","bg-white/60","border","border-e-0","border-gray-300","rounded-s-xl","hover:bg-green-100","hover:text-green-700","transition-all","duration-200","disabled:opacity-40",3,"click","disabled"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 6 10",1,"w-4","h-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 1 1 5l4 4"],[1,"flex","items-center","justify-center","px-5","h-8","leading-tight","text-gray-600","bg-white/60","border","border-gray-300","rounded-e-xl","hover:bg-green-100","hover:text-green-700","transition-all","duration-200","disabled:opacity-40",3,"click","disabled"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 9 4-4-4-4"],[3,"click"]],template:function(t,o){t&1&&(i(0,"nav",0)(1,"ul",1)(2,"li")(3,"button",2),h("click",function(){return o.goToPage(o.pageNumber-1)}),i(4,"span",3),c(5,"Previous"),a(),M(),i(6,"svg",4),l(7,"path",5),a()()(),g(8,ie,3,3,"li",null,z),k(),i(10,"li")(11,"button",6),h("click",function(){return o.goToPage(o.pageNumber+1)}),i(12,"span",3),c(13,"Next"),a(),M(),i(14,"svg",4),l(15,"path",7),a()()()()()),t&2&&(r(3),m("disabled",o.pageNumber===1),r(5),u(o.totalPages),r(3),m("disabled",o.pageNumber===o.totalPages.length))},styles:["li[_ngcontent-%COMP%]{cursor:pointer}"]})};var X=n=>["/details",n],oe=n=>({from:n}),re=()=>[],ae=()=>[1,2,3,4,5],ee=(n,e)=>e.Id;function ce(n,e){if(n&1&&(i(0,"div",23)(1,"span",26),c(2),a(),i(3,"span",27),c(4),a()()),n&2){let t=e.$implicit;r(2),p(" ",t.Price," EGP "),r(2),p(" ",t.Price+20,"EGP ")}}function le(n,e){n&1&&l(0,"i",28)}function pe(n,e){if(n&1&&(L(0),N(1,le,1,0,"i",28),A()),n&2){let t=e.$implicit,o=_(2);r(),j(t<=o.math.floor(t)?1:-1)}}function de(n,e){if(n&1&&(i(0,"div",10)(1,"div",13)(2,"div",14),l(3,"i",15),a(),i(4,"div",16),l(5,"img",17),a(),i(6,"div",18)(7,"div",19)(8,"div",20)(9,"h3"),c(10),a()(),i(11,"div",21),l(12,"img",22),i(13,"span"),c(14),f(15,"translate"),a()(),g(16,ce,5,2,"div",23,ee),i(18,"div",24),g(19,pe,2,1,"ng-container",null,D),a()(),i(21,"button",25),c(22),f(23,"translate"),a()()()()),n&2){let t=e.$implicit,o=_();r(4),m("routerLink",P(10,X,t.Id)),r(3),m("routerLink",P(12,X,t.Id))("state",P(14,oe,o.currentUrl)),r(3),O(t.NameAr),r(4),O(b(15,6,"products.brandname")),r(2),u(t.ItemUnits.slice(0,1)||w(16,re)),r(3),u(w(17,ae)),r(3),p("\u{1F6D2} ",b(23,8,"products.addtocart"),"")}}var Z=class n{text="";math=Math;_AllProductsService=x(v);_Router=x(G);currentUrl="";allProducts=T([]);pageNumber=1;pageSize=50;totalCount=0;destoryAllData;ngOnInit(){this.currentUrl=this._Router.url,this.loadItems()}get filteredItems(){return this.allProducts().filter(e=>e.NameAr?.toLowerCase().includes(this.text.toLowerCase())||e.NameEn?.toLowerCase().includes(this.text.toLowerCase()))}loadItems(){this._AllProductsService.getPagedItem(this.pageNumber,this.pageSize).subscribe({next:e=>{this.allProducts.set(e.Obj.PagedResult),this.totalCount=e.Obj.TotalCount},error:e=>console.log(e)})}pagePagnation(e){this.pageNumber=e,this.loadItems()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=C({type:n,selectors:[["app-products"]],decls:21,vars:10,consts:[[1,"container","m-auto"],[1,"w-full","mt-16","products"],[1,"heading","text-center"],[1,"mt-8","font-weight-bolder","font-serif","text-4xl"],[1,"mb-8","mt-1","text-yellow-50","text-1xl"],[1,"input-group","m-auto","text-center","relative"],["type","search",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","btn-outline-secondary"],[1,"fa-solid","fa-magnifying-glass","absolute","text-white","iconSearch"],[1,"section-content","mt-16","grid","gap-6","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-4","xl:grid-cols-5"],[1,"flex","justify-center"],[1,"mt-12","flex","justify-center","align-middle"],[3,"pageChanged"],[1,"product-card","px-1"],[1,"wishIcon","px-2","text-right","py-1"],[1,"fa-solid","fa-heart","fa-heart","text-xl","cursor-pointer"],[1,"image-container","cursor-pointer",3,"routerLink"],["src","./assets/images/Product.png","alt","product.title"],[1,"product-body"],[1,"cursor-pointer",3,"routerLink","state"],[1,"product-title"],[1,"brand"],["src","./assets/images/OIP.webp","alt","Brand Logo"],[1,"price"],[1,"rating"],[1,"add-to-cart"],[1,"current-price"],[1,"old-price"],[1,"fa-solid","fa-star","rating-color"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"section")(2,"div",1)(3,"div",2)(4,"h3",3),c(5),f(6,"translate"),a(),i(7,"p",4),c(8),f(9,"translate"),a()(),i(10,"div",5)(11,"input",6),f(12,"translate"),W("ngModelChange",function(s){return R(o.text,s)||(o.text=s),s}),a(),i(13,"button",7),l(14,"i",8),a()(),i(15,"div",9),g(16,de,24,18,"div",10,ee),a()()(),i(18,"section")(19,"div",11)(20,"app-pagination",12),h("pageChanged",function(s){return o.pagePagnation(s)}),a()()()()),t&2&&(r(5),p(" ",b(6,4,"homecomponent.mostpurchasedproducts")," "),r(3),p(" ",b(9,6,"homecomponent.enjoythemostpopularproducts")," "),r(3),U("placeholder",b(12,8,"homecomponent.searchbyproductname")),V("ngModel",o.text),r(5),u(o.filteredItems))},dependencies:[Q,q,J,K,$,y,H,Y],styles:[".iconSearch[_ngcontent-%COMP%]{left:40%;top:30%}.form-control[_ngcontent-%COMP%]{width:50%!important;text-align:center;border-radius:999px}.product-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;overflow:hidden;box-shadow:0 0 20px #3e3e3e80;transition:all .3s ease;width:100%;height:400px;position:relative;padding:5px 0;display:flex;flex-direction:column;justify-content:space-between}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px)}.product-card[_ngcontent-%COMP%]:hover   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.1)}.product-card[_ngcontent-%COMP%]:hover   .add-to-cart[_ngcontent-%COMP%]{transform:translateY(0)}.image-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;max-height:400px;display:flex;justify-content:center;align-items:center;padding:0 10px}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;margin:auto;transition:transform .4s ease}.product-body[_ngcontent-%COMP%]{padding:12px 16px}.product-body[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin-bottom:6px}.product-body[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.product-body[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;margin-right:8px}.product-body[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.product-body[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.product-body[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .old-price[_ngcontent-%COMP%]{color:#888;text-decoration:line-through;font-size:.85rem}.product-body[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .current-price[_ngcontent-%COMP%]{color:var(--primary-green);font-weight:700}.product-body[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{font-size:.85rem;color:#fc0;margin-bottom:10px}.product-body[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{background-color:var(--primary-green);color:#fff;border:none;padding:8px 16px;border-radius:8px;cursor:pointer;font-weight:700;width:100%;transform:translateY(150%);transition:transform .4s ease}.product-body[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]:hover{background-color:var(--primary-green-dark)}@media (max-width: 768px){.products[_ngcontent-%COMP%]{margin-top:0}.input-group[_ngcontent-%COMP%]{width:100%}.input-group[_ngcontent-%COMP%]   .fa-magnifying-glass[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%!important}.heading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem!important;margin-top:0!important}.heading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}"]})};export{Z as ProductsComponent};
