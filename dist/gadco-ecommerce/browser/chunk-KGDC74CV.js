import{a as w}from"./chunk-IQD7P6OP.js";import{a as S,b as k}from"./chunk-IOHK44EJ.js";import{l as y}from"./chunk-E3QJHROL.js";import"./chunk-NWNFJGB3.js";import{h as x,w as h,y as b}from"./chunk-TDGSGNOU.js";import{c as v,d as I}from"./chunk-CDINY2RQ.js";import{Gb as P,Qb as n,Rb as u,Sb as c,Tb as f,Va as i,aa as m,bc as o,cc as r,db as M,g as O,xb as t,yb as e,zb as l}from"./chunk-QJSMLD4S.js";var E=class _{_Router=m(b);_ActivatedRoute=m(h);_AllProductsService=m(w);_CartService=m(k);_ToastrService=m(y);detailsProduct;productId=null;subscription=new O;ngOnInit(){let s=this._ActivatedRoute.paramMap.subscribe({next:d=>{this.productId=d.get("id");let a=this._AllProductsService.getProductDetails(this.productId).subscribe({next:p=>{this.detailsProduct=p.Obj.item},error:p=>{console.log(p)}});this.subscription.add(a)}});this.subscription.add(s)}selected(){history.state.from?this._Router.navigateByUrl(history.state.from):this._Router.navigate(["/"])}addToCart(s,d,a=1){let p=localStorage.getItem("userToken");if(!p){console.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u0639\u062F \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644!"),localStorage.removeItem("userToken"),this._Router.navigate(["/login"]);return}let C=S(p),B={UserId:C.Id,ProductId:s,Quantity:a,Price:d};this._CartService.addToCart(B).subscribe({next:g=>{this._ToastrService.success(g.Message),console.log("Added to cart:",g),console.log(C.Id)},error:g=>{console.error(" Error while adding:",g),this._ToastrService.error(g.Message)}})}static \u0275fac=function(d){return new(d||_)};static \u0275cmp=M({type:_,selectors:[["app-product-details"]],decls:67,vars:41,consts:[[1,"relative","product-detail-section"],[1,"product-detail"],[1,"image-section","pt-12"],["src","./assets/images/Product.png","alt","Product Image",1,"main-image"],[1,"thumbnails"],["src","./assets/images/Product.png","alt","Thumbnail"],[1,"info-section","pt-12"],[1,"mx-1","font-bold"],[1,"flex","align-middle","my-2"],[1,"text-muted","font-bold","small","mx-1"],["src","./assets/images/Offers/offer-2.jpeg","width","60px","alt","Brand"],[1,"list-unstyled","product-meta"],[2,"width","300px","display","inline-block","line-height","1.5"],[1,"my-2"],[1,"flex","align-middle","justify-start","my-2"],[1,"old-price"],[1,"price","mx-2"],[1,"benefits","flex","flex-col","gap-2","my-2"],[1,"flex","align-middle"],[1,"fas","fa-box","text-warning","me-2"],[1,"font-bold"],[1,"font-bold","text-muted","mx-2","text-green-500"],[1,"sold","flex","align-middle"],[1,"fas","fa-shopping-basket","text-secondary","me-2"],[1,"mx-2","font-bold","text-muted"],[1,"add-to-cart",3,"click"],[1,"fas","fa-shopping-cart","me-2"],[1,"backIcon","absolute","cursor-pointer",3,"click"],[1,"fa-regular","fa-circle-xmark"]],template:function(d,a){d&1&&(t(0,"section",0)(1,"div",1)(2,"div",2),l(3,"img",3),t(4,"div",4),l(5,"img",5)(6,"img",5)(7,"img",5),e()(),t(8,"div",6)(9,"h2",7),n(10),e(),t(11,"div",8)(12,"span",9),n(13,"By:"),e(),l(14,"img",10),e(),t(15,"ul",11)(16,"li")(17,"strong"),n(18),o(19,"translate"),e(),n(20),o(21,"translate"),e(),t(22,"li")(23,"strong"),n(24),o(25,"translate"),e(),n(26),o(27,"translate"),e(),t(28,"li",12)(29,"strong"),n(30),o(31,"translate"),e(),t(32,"span"),n(33),o(34,"translate"),e()()(),t(35,"p",13),n(36," Fully Description Lorem ipsum dolor sit amet consectetur adipisicing elit. Quam, sunt? "),e(),t(37,"div",14)(38,"p",15),n(39),o(40,"translate"),e(),t(41,"p",16),n(42),o(43,"translate"),e()(),t(44,"div",17)(45,"div",18),l(46,"i",19),t(47,"span",20),n(48),o(49,"translate"),e(),t(50,"p",21),n(51),o(52,"translate"),e()(),t(53,"div",22),l(54,"i",23),t(55,"span",20),n(56),o(57,"translate"),e(),t(58,"p",24),n(59),o(60,"date"),e()()(),t(61,"button",25),P("click",function(){return a.addToCart(a.detailsProduct.Id,a.detailsProduct.valueOfProfit)}),l(62,"i",26),n(63),o(64,"translate"),e()()(),t(65,"div",27),P("click",function(){return a.selected()}),l(66,"i",28),e()()),d&2&&(i(10),u(a.detailsProduct.NameAr),i(8),c("",r(19,15,"productdet.material"),": "),i(2),c("",r(21,17,"productdet.material")," "),i(4),c("",r(25,19,"productdet.blend"),": "),i(2),c("",r(27,21,"productdet.blend")," "),i(4),c("",r(31,23,"productdet.category"),":"),i(3),u(r(34,25,"productdet.categoryname")),i(6),u(r(40,27,"productdet.OldPriceEGP")),i(3),u(r(43,29,"productdet.priceEGP")),i(6),c("",r(49,31,"productdet.totalquentity"),":"),i(3),f(" ",a.detailsProduct.TotalOutQty," ",r(52,33,"productdet.pice")," "),i(5),c("",r(57,35,"productdet.createdat"),":"),i(3),c(" ",r(60,37,a.detailsProduct.CreatedDate)," "),i(4),c(" ",r(64,39,"products.addtocart")," "))},dependencies:[x,I,v],styles:[".product-detail[_ngcontent-%COMP%]{display:flex;gap:2rem;background:var(--color-bg);border-radius:1rem;padding:0px 2rem 2rem;margin-bottom:50px}.product-detail[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;max-width:450px!important;margin-left:100px;margin-right:20px}.product-detail[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{width:100%;max-height:420px;border-radius:.5rem;box-shadow:0 0 5px #4caf50;height:fit-content}.product-detail[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   .thumbnails[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.product-detail[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   .thumbnails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:.5rem;border:2px solid #eee;cursor:pointer;object-fit:cover;transition:all .3s}.product-detail[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   .thumbnails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.selected-thumbnail):hover{border-color:#4caf50;transform:scale(1.2);z-index:0}.product-detail[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   .thumbnails[_ngcontent-%COMP%]   img.selected-thumbnail[_ngcontent-%COMP%]{border:2px solid #4caf50;transform:scale(1.2);box-shadow:0 0 10px #0003;z-index:1}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{flex:1}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]{font-size:.9rem;color:gray;margin-bottom:1rem}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1.5rem;color:#e53935}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .old-price[_ngcontent-%COMP%]{color:#888;text-decoration:line-through;font-size:.9rem}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{margin-left:50px!important}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{margin-top:1rem;width:50%;padding:.75rem 2rem;background-color:#4caf50;color:#fff;border:none;border-radius:.5rem;font-weight:700;cursor:pointer;transition:background-color .3s}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]:hover{background-color:#003b02;box-shadow:0 0 8px #4caf50}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .product-detail[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .product-detail[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%], .product-detail[_ngcontent-%COMP%]   .old-price[_ngcontent-%COMP%]{color:var(--color-text)}.add-to-cart[_ngcontent-%COMP%]{background-color:var(--color-primary);color:#fff}.add-to-cart[_ngcontent-%COMP%]:hover{background-color:var(--primary-green-dark)}.backIcon[_ngcontent-%COMP%]{top:10%;right:30px;font-size:xx-large;color:#dc3545;cursor:pointer}.backIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #dc3545;border-radius:20px}@media (max-width: 992px){.product-detail[_ngcontent-%COMP%]{flex-direction:column!important;padding:1.5rem!important;gap:1rem!important}.product-detail[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%], .product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{width:100%!important;margin:0!important}.product-detail[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]{max-width:100%!important;margin-bottom:1rem}.product-detail[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-height:300px!important}.product-detail[_ngcontent-%COMP%]   .thumbnails[_ngcontent-%COMP%]{justify-content:center!important}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{width:100%!important}.backIcon[_ngcontent-%COMP%]{top:5%!important;right:10px!important}}@media (max-width: 768px){.product-detail[_ngcontent-%COMP%]{padding:1rem!important;gap:.75rem!important}.product-detail[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{width:80%}.product-detail[_ngcontent-%COMP%]   .thumbnails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px!important;height:50px!important}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem!important}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.9rem!important}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1.25rem!important}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{margin-left:0!important;text-align:center}.backIcon[_ngcontent-%COMP%]{font-size:2rem!important;top:3%!important;right:8px!important}}@media (max-width: 576px){.product-detail[_ngcontent-%COMP%]{padding:.75rem!important;gap:.5rem!important}.product-detail[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-height:200px!important}.product-detail[_ngcontent-%COMP%]   .thumbnails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px!important;height:40px!important}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem!important}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.85rem!important;line-height:1.3!important}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1rem!important}.product-detail[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{padding:.5rem 1rem!important;font-size:.9rem!important}.backIcon[_ngcontent-%COMP%]{font-size:1.75rem!important;top:2%!important;right:6px!important}}"]})};export{E as ProductDetailsComponent};
