import{a as P}from"./chunk-YGUIRB3M.js";import{a as E}from"./chunk-CU4HZV45.js";import"./chunk-5L3H67GH.js";import{a as B,b as A,c as v,d as G,e as U,g as M,h as q,i as O,j as R,l as j}from"./chunk-YJOGFJHE.js";import"./chunk-NWNFJGB3.js";import{D as T,E as k,c as D,x as I,y as N}from"./chunk-HRNNJGGB.js";import{$b as a,Db as C,Eb as x,Hb as S,Nb as p,Ob as L,Pb as d,Sa as n,Xb as w,_,_b as l,ab as F,fb as f,lb as b,pb as g,ub as o,vb as r,wb as h}from"./chunk-5H2WG54T.js";var V=(e,i)=>({"border-red-500 ring-1 ring-red-500":e,"border-gray-300 focus:ring-blue-500 focus:border-blue-500":i});function z(e,i){e&1&&(o(0,"p",25),p(1),l(2,"translate"),r()),e&2&&(n(),L(a(2,1,"auth.login.userNameisrequired")))}function H(e,i){if(e&1&&(o(0,"div",9),f(1,z,3,3,"p",25),r()),e&2){let m,t=x();n(),g((m=t.loginForm.get("userName"))!=null&&m.getError("required")?1:-1)}}function J(e,i){e&1&&(o(0,"p",9),p(1),l(2,"translate"),r()),e&2&&(n(),d(" ",a(2,1,"auth.login.passwordisrequired")," "))}function K(e,i){e&1&&(o(0,"p",9),p(1),l(2,"translate"),r()),e&2&&(n(),d(" ",a(2,1,"auth.login.passwordmustbeatleast6characters")," "))}function Q(e,i){e&1&&(o(0,"p",9),p(1),l(2,"translate"),r()),e&2&&(n(),d(" ",a(2,1,"auth.login.Passwordcanonlycontainenglishletters,numbers,andunderscores")," "))}function W(e,i){if(e&1&&(o(0,"div",13),f(1,J,3,3,"p",9)(2,K,3,3,"p",9)(3,Q,3,3,"p",9),r()),e&2){let m,t,s,u=x();n(),g((m=u.loginForm.get("password"))!=null&&m.getError("required")?1:-1),n(),g((t=u.loginForm.get("password"))!=null&&t.getError("minlength")?2:-1),n(),g((s=u.loginForm.get("password"))!=null&&s.getError("pattern")?3:-1)}}function X(e,i){e&1&&(p(0),l(1,"translate")),e&2&&d(" ",a(1,1,"auth.login.loading...")," ")}function Y(e,i){e&1&&(p(0),l(1,"translate")),e&2&&d(" ",a(1,1,"auth.login.login")," ")}var $=class e{isloading=!1;destroyLoginData;_FormBuilder=_(R);_AuthService=_(P);_ToastrService=_(E);_Router=_(I);destoryUserData;destoryGustData;loginForm=this._FormBuilder.group({companyId:[1],branchId:[1],userName:[null,[v.required,v.minLength(3)]],password:[null,[v.required,v.pattern(/^\w{6,}$/)]],rememberMe:[!0]});guestData={companyId:1,branchId:1,userName:"Admin",password:"Admin123",rememberMe:!1};sendLodinData(){this.isloading=!0,this.destoryUserData=this._AuthService.sendLoginData(this.loginForm.value).subscribe({next:i=>{console.log(i),this._ToastrService.success(i.message,"Login Sucessful"),this.isloading=!1,localStorage.setItem("userToken",i.Obj.AccessToken),this._Router.navigate(["/home"])},error:i=>{console.log(i),this._ToastrService.error("Username Or Password Is Incorrect"),this.isloading=!1}})}guestLogin(){this.destoryGustData=this._AuthService.sendLoginData(this.guestData).subscribe({next:i=>{console.log(i),localStorage.setItem("guestToken",i.Obj.AccessToken),this._Router.navigate(["/guest/home"])},error:i=>{console.log(i)}})}ngOnDestroy(){this.destoryUserData&&this.destoryUserData.unsubscribe(),this.destoryGustData&&this.destoryGustData.unsubscribe()}static \u0275fac=function(m){return new(m||e)};static \u0275cmp=F({type:e,selectors:[["app-login"]],decls:42,vars:37,consts:[[1,"login-section"],[1,"login-wrapper"],[1,"login-card"],[1,"login-title","font-semibold","font-serif"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"inputInfo"],[1,"input-group"],[1,"fa-solid","fa-user","input-icon","iconsColor"],["formControlName","userName","type","text",1,"input-field","form-control","block","w-full","px-3","py-2","rounded-md","shadow-sm","sm:text-sm",3,"ngClass","placeholder"],[1,"bg-red-100","border","border-red-400","text-red-700","px-2","py-1","rounded-md"],[1,"input-info"],[1,"fa-solid","fa-key","input-icon","iconsColor"],["type","password","formControlName","password",1,"input-field","form-control",3,"ngClass","placeholder"],[1,"mt-2","space-y-1"],[1,"options-row"],[1,"flex","items-center","space-x-2"],["formControlName","rememberMe","type","checkbox","checked","",1,"w-4","h-4","text-green-600","border-gray-300","rounded","focus:ring-green-500","focus:ring-2"],[1,"text-sm","text-white","px-1"],[1,"links"],["routerLink","/forgetpassword"],["type","button",1,"login-button","disabled:bg-gray-400","disabled:cursor-not-allowed","disabled:pointer-events-none",3,"click","disabled"],[1,"divider"],["type","button",1,"w-full","m-auto","px-4","py-2","rounded-2xl","font-serif","font-semibold","text-blue-800","transition-all","bg-gray-100","hover:bg-gray-400","mt-0","flex","items-center","justify-center",3,"click"],[1,"text-center","text-white"],["type","button","routerLink","/auth/register",1,"links"],[1,""]],template:function(m,t){if(m&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),p(4),l(5,"translate"),r(),o(6,"form",4),C("ngSubmit",function(){return t.sendLodinData()}),o(7,"div",5)(8,"div",6),h(9,"i",7)(10,"input",8),l(11,"translate"),r(),f(12,H,2,1,"div",9),r(),o(13,"div",10)(14,"div",6),h(15,"i",11)(16,"input",12),l(17,"translate"),r(),f(18,W,4,3,"div",13),r(),o(19,"div",14)(20,"label",15),h(21,"input",16),o(22,"span",17),p(23),l(24,"translate"),r()(),o(25,"div",18)(26,"a",19),p(27),l(28,"translate"),r()()(),o(29,"button",20),C("click",function(){return t.sendLodinData()}),f(30,X,2,3)(31,Y,2,3),r(),h(32,"hr",21),o(33,"button",22),C("click",function(){return t.guestLogin()}),p(34),l(35,"translate"),r(),o(36,"p",23),p(37),l(38,"translate"),o(39,"a",24),p(40),l(41,"translate"),r()()()()()()),m&2){let s,u,c,y;n(4),d(" ",a(5,15,"auth.login.loginnow")," "),n(2),b("formGroup",t.loginForm),n(4),S("placeholder",a(11,17,"auth.login.username")),b("ngClass",w(31,V,((s=t.loginForm.get("userName"))==null?null:s.touched)&&((s=t.loginForm.get("userName"))==null?null:s.invalid),!((s=t.loginForm.get("userName"))!=null&&s.touched&&((s=t.loginForm.get("userName"))!=null&&s.invalid)))),n(2),g((u=t.loginForm.get("userName"))!=null&&u.touched&&((u=t.loginForm.get("userName"))!=null&&u.errors)?12:-1),n(4),S("placeholder",a(17,19,"auth.login.password")),b("ngClass",w(34,V,((c=t.loginForm.get("password"))==null?null:c.touched)&&((c=t.loginForm.get("password"))==null?null:c.invalid),!((c=t.loginForm.get("password"))!=null&&c.touched&&((c=t.loginForm.get("password"))!=null&&c.invalid)))),n(2),g((y=t.loginForm.get("password"))!=null&&y.touched&&((y=t.loginForm.get("password"))!=null&&y.invalid)?18:-1),n(5),d(" ",a(24,21,"auth.login.rememberme"),""),n(4),d(" ",a(28,23,"auth.login.forgetpassword?"),""),n(2),b("disabled",t.loginForm.invalid||t.isloading),n(),g(t.isloading?30:31),n(4),d(" ",a(35,25,"auth.login.continueasguest")," "),n(3),d(" ",a(38,27,"auth.login.notamember")," "),n(3),d(" ",a(41,29,"auth.login.registernow"),"")}},dependencies:[N,j,M,A,B,G,U,q,O,D,k,T],encapsulation:2})};export{$ as LoginComponent};
