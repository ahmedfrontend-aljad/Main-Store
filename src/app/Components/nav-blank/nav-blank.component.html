<nav
  class="border-gray-200 z-50 relative mb-8"
  [class.mb-12]="isLoggedIn"
  [class.mb-8]="!isLoggedIn"
>
  <div class="flex flex-wrap items-center justify-between mx-9 pt-5">
    <!-- Logo -->
    <a href="#" class="flex items-center space-x-3 rtl:space-x-reverse">
      <i
        class="fa-solid fa-cart-shopping fa-2xl iconsColor"
        ngSkipHydration
      ></i>
      <h2 class="text-3xl font-semibold text-white font-serif">TradeCraft</h2>
    </a>

    <!-- Right Side Buttons -->
    <div
      class="flex items-center md:order-2 space-x-1 md:space-x-0 rtl:space-x-reverse"
    >
      <!-- Guest Login & Register Buttons -->
      @if (isGuest) {
      <div class="flex gap-3 me-4">
        <button
          (click)="guestLogin()"
          class="bg-blue-600 px-4 py-2 rounded-lg hover:bg-blue-700"
        >
          {{ "homecom.navbar.login" | translate }}
        </button>
        <button
          (click)="guestRegister()"
          class="bg-green-600 px-4 py-2 rounded-lg hover:bg-green-700"
        >
          {{ "homecom.navbar.register" | translate }}
        </button>
      </div>
      }

      <!-- Language Dropdown -->
      <div class="relative">
        <button
          type="button"
          (click)="toggleLangDropdown()"
          class="inline-flex items-center font-medium justify-center px-4 py-2 text-sm text-gray-900 dark:text-white rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white"
        >
          {{ selectedLanguage }}
          <i class="fa-solid fa-chevron-down ms-2" ngSkipHydration></i>
        </button>

        <!-- Dropdown List -->
        @if(showLangDropdown){
        <ul
          class="absolute right-0 mt-2 w-32 bg-white dark:bg-gray-200 border border-gray-200 dark:border-gray-200 rounded-lg shadow-lg z-50"
        >
          <li (click)="changeLang('en')">
            <button
              class="block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700"
            >
              English
            </button>
          </li>
          <li (click)="changeLang('ar')">
            <button
              class="block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700"
            >
              عربي
            </button>
          </li>
        </ul>
        }
      </div>

      <!-- Cart -->
      <div class="cart px-5 cursor-pointer relative" routerLink="/cart">
        <i class="fa-solid fa-cart-shopping" ngSkipHydration></i>
        <span class="absolute cartCounter">0</span>
      </div>

      <!-- Profile Dropdown -->
      <div class="dropdown px-5" #dropdownRef>
        <button
          class="userIcon user-toggle"
          type="button"
          (click)="toggleDropdown()"
        >
          <i class="fas fa-user"></i>
        </button>

        <ul class="dropdown-menu user-dropdown" [class.show]="showDropdown">
          @if (isUserLogged) {
          <li>
            <a class="nav-link" [routerLink]="['/allOrders']">
              <i class="fa-solid fa-box" ngSkipHydration></i>
              <span class="">
                {{ "homecom.navbar.profile.allorders" | translate }}</span
              >
            </a>
          </li>
          <li class="wishlist mx-1">
            <a class="nav-link" routerLink="/wishList">
              <i class="fa-solid fa-shield-heart" ngSkipHydration></i>
              <span class="">
                {{ "homecom.navbar.profile.wishlist" | translate }}</span
              >
            </a>
          </li>
          }
          <li>
            <button (click)="signout()">
              <i class="fas fa-sign-out-alt" ngSkipHydration></i>
              <span class="">
                {{ "homecom.navbar.profile.signout" | translate }}</span
              >
            </button>
          </li>
        </ul>
      </div>

      <!-- Mobile Menu Toggle Button -->
      <button
        type="button"
        class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
        (click)="toggleMenu()"
      >
        <span class="sr-only">{{
          "homecom.navbar.openmainmenu" | translate
        }}</span>
        <svg
          class="w-5 h-5"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 17 14"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M1 1h15M1 7h15M1 13h15"
          />
        </svg>
      </button>
    </div>

    <!-- Nav List for Desktop -->
    <div
      id="navbar-language"
      class="hidden md:flex items-center justify-between w-full md:w-auto md:order-1 py-3 px-10"
    >
      <ul
        class="flex flex-row font-medium space-x-8 rtl:space-x-reverse text-white"
      >
        <li>
          <a
            routerLink="/home"
            routerLinkActive="text-blue-700 font-bold border-b-2 border-blue-700"
            [routerLinkActiveOptions]="{ exact: true }"
            >{{ "homecom.navbar.home" | translate }}</a
          >
        </li>
        <li>
          <a
            routerLink="/products"
            routerLinkActive="text-blue-700 font-bold border-b-2 border-blue-700"
            [routerLinkActiveOptions]="{ exact: true }"
            >{{ "homecom.navbar.products" | translate }}</a
          >
        </li>
        <li>
          <a
            routerLink="/categories"
            routerLinkActive="text-blue-700 font-bold border-b-2 border-blue-700"
            [routerLinkActiveOptions]="{ exact: true }"
            >{{ "homecom.navbar.categories" | translate }}</a
          >
        </li>
        <li>
          <a
            routerLink="/offers"
            routerLinkActive="text-blue-700 font-bold border-b-2 border-blue-700"
            [routerLinkActiveOptions]="{ exact: true }"
            >{{ "homecom.navbar.offers" | translate }}</a
          >
        </li>
      </ul>
    </div>

    <!-- Nav List for Mobile -->
    <!-- Nav List for Mobile -->
    <div class="md:hidden w-full" [class.hidden]="!showMobileMenu">
      <ul
        class="flex flex-col font-medium py-4 px-5 border border-gray-100 rounded-lg space-y-2 dark:border-gray-700"
      >
        <li>
          <a
            routerLink="/home"
            routerLinkActive="text-blue-500 font-semibold"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="toggleMenu()"
            class="text-white hover:text-blue-400 transition-colors duration-200"
          >
            {{ "homecom.navbar.home" | translate }}
          </a>
        </li>

        <li>
          <a
            routerLink="/products"
            routerLinkActive="text-blue-500 font-semibold"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="toggleMenu()"
            class="text-white hover:text-blue-400 transition-colors duration-200"
          >
            {{ "homecom.navbar.products" | translate }}
          </a>
        </li>

        <li>
          <a
            routerLink="/categories"
            routerLinkActive="text-blue-500 font-semibold"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="toggleMenu()"
            class="text-white hover:text-blue-400 transition-colors duration-200"
          >
            {{ "homecom.navbar.categories" | translate }}
          </a>
        </li>

        <li>
          <a
            routerLink="/brands"
            routerLinkActive="text-blue-500 font-semibold"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="toggleMenu()"
            class="text-white hover:text-blue-400 transition-colors duration-200"
          >
            {{ "homecom.navbar.offers" | translate }}
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>
